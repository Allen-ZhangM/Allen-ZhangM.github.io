<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <title>Go语言学习笔记（二） 基本语法、变量、常量、类型 (1)</title>
  <meta name="description" content="基本语法">
  <meta name="author" content="Wei Wang">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Go语言学习笔记（二） 基本语法、变量、常量、类型 (1)">
  <meta name="twitter:description" content="基本语法">
  
  <meta property="og:type" content="article">
  <meta property="og:title" content="Go语言学习笔记（二） 基本语法、变量、常量、类型 (1)">
  <meta property="og:description" content="基本语法">
  
  <link rel="icon" type="image/png" href="/assets/images/favicon.png" />
  <link href="/assets/images/favicon.png" rel="shortcut icon" type="image/png">
  
  <link rel="stylesheet" href="/css/main.css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="canonical" href="http://localhost:4000/2018/03/Go%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%BA%8C-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-%E5%8F%98%E9%87%8F-%E5%B8%B8%E9%87%8F-%E7%B1%BB%E5%9E%8B-(1)/">
  <!--
  <link rel="alternate" type="application/rss+xml" title="Allen Zhang" href="http://localhost:4000/feed.xml">
  -->
  <meta name="google-site-verification" content="1-1ZlHoRvM0T2FqPbW2S-qLgYXN6rsn52kErlMPd_gw" />
  
</head>


  <body>

    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>
    
    <header class="panel-cover panel-cover--collapsed" style="background-image: url('/assets/images/background-cover.jpg')">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <a href="/#blog" title="前往 Allen Zhang 的主页" class="blog-button"><img src="/assets/images/avatar.jpg" width="80" alt="Allen Zhang logo" class="panel-cover__logo logo" /></a>
        <h1 class="panel-cover__title panel-title"><a href="/#blog" title="link to homepage for Allen Zhang" class="blog-button">Allen Zhang</a></h1>
        
        <span class="panel-cover__subtitle panel-subtitle">一个记录我工作、学习历程的博客</span>
        
        <hr class="panel-cover__divider" />
        <p class="panel-cover__description">新学期，新气象；百尺竿头，更进一步……</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />
        
        
        <p class="panel-cover__description">我不生产知识，只是知识的搬运工</p>
        
        
        <div class="navigation-wrapper">
          <div>
            <nav class="cover-navigation cover-navigation--primary">
              <ul class="navigation">
                <li class="navigation__item"><a href="/#blog" title="Visit blog" class="blog-button">Blog</a></li>
                
              </ul>
            </nav>
          </div>
          
          <div><nav class="cover-navigation navigation--social">
  <ul class="navigation">

  

  
  <!-- Github -->
  <li class="navigation__item">
    <a href="https://github.com/Allen-ZhangM" title="@Allen-ZhangM 的 Github" target="_blank">
      <i class='social fa fa-github'></i>
      <span class="label">Github</span>
    </a>
  </li>
  
  
  

  

  <!-- RSS -->
  <!--
  <li class="navigation__item">
    <a href="/feed.xml" rel="author" title="RSS" target="_blank">
      <i class='social fa fa-rss'></i>
      <span class="label">RSS</span>
    </a>
  </li>
	-->

  
  <!-- Email -->
  <li class="navigation__item">
    <a href="mailto:allenzhanglearner@gmail.com" title="Contact me">
      <i class='social fa fa-envelope'></i>
      <span class="label">Email</span>
    </a>
  </li>
  

  </ul>
</nav>
</div>
        </div>
      </div>
    </div>
    
    
    <div class="panel-cover--overlay cover-blue"></div>
    
  </div>
</header>


    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <div class="post-meta">
      <time datetime="2018-03-19 00:00:00 +0800" itemprop="datePublished" class="post-meta__date date">2018-03-19</time> &#8226; <span class="post-meta__tags tags"></span>
    </div>
    <h1 class="post-title">Go语言学习笔记（二） 基本语法、变量、常量、类型 (1)</h1>
  </header>

  <section class="post">
    <h2 id="基本语法">基本语法</h2>

<h2 id="go语言中的标记">Go语言中的标记</h2>

<p>Go程序是由各种标记组成的，标记可以是关键字，标识符，常量，字符串文字或符号。例如，以下Go语句由六个标记组成：</p>

<pre><code class="language-Go">fmt.Println("Hello, World!")
</code></pre>

<p>每个标记单独表示为：</p>

<pre><code class="language-Go">fmt
.
Println
(
"Hello, World!"
)
</code></pre>

<h2 id="行分隔符">行分隔符</h2>

<p>在Go程序中，行分隔符键是语句终止符。 也就是说，每个单独的语句不需要特殊的分隔符如：<code class="highlighter-rouge">;</code> ，也不需要像在C编译器放置<code class="highlighter-rouge">;</code> 作为语句终止符以指示一个逻辑实体的结束。</p>

<p>例如，以下是两个不同的语句：</p>

<pre><code class="language-Go">fmt.Println("Hello, World!")
fmt.Println("I am in Go Programming World!")
</code></pre>

<h3 id="注释">注释</h3>

<p>注释就类似在Go程序中帮助文本，并且它们被编译器忽略。 它们以<code class="highlighter-rouge">/*</code>开始，并以字符<code class="highlighter-rouge">*/</code>结尾，如下所示：</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">/* my first program comments in Go */</span><span class="x">
</span></code></pre></div></div>

<p>不能在注释中包含注释，并且不能在字符串或字符文字中出现。</p>

<h2 id="标识符">标识符</h2>

<p>Go标识符是用于标识变量，函数或任何其他用户定义项目的名称。标识符以字母<code class="highlighter-rouge">A</code>到<code class="highlighter-rouge">Z</code>或<code class="highlighter-rouge">a</code>到<code class="highlighter-rouge">z</code>或下划线<code class="highlighter-rouge">_</code>开头，后跟零个或多个字母，下划线和数字(<code class="highlighter-rouge">0</code>到<code class="highlighter-rouge">9</code>)组成。</p>

<table>
  <tbody>
    <tr>
      <td>标识符 = 字母 {字母</td>
      <td>unicode数字}。</td>
    </tr>
  </tbody>
</table>

<p>Go不允许在标识符中使用标点符号，例如<code class="highlighter-rouge">@</code>, <code class="highlighter-rouge">$</code> 和 <code class="highlighter-rouge">%</code>。 Go是一种区分大小写的编程语言。 因此，<code class="highlighter-rouge">Manpower</code>和<code class="highlighter-rouge">manpower</code>在Go中是两个不同的标识符。以下是一些可接受(合法)的标识符示例：</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mahesh</span><span class="x">   </span><span class="n">kumar</span><span class="x">   </span><span class="n">abc</span><span class="x">   </span><span class="n">move_name</span><span class="x">   </span><span class="n">a_123</span><span class="x">
</span><span class="n">myname50</span><span class="x">   </span><span class="n">_temp</span><span class="x">   </span><span class="n">j</span><span class="x">   </span><span class="n">a23b9</span><span class="x">   </span><span class="n">retVal</span><span class="x">
</span></code></pre></div></div>

<h2 id="关键词">关键词</h2>

<p>以下列表显示Go中的保留字。这些保留字不能用作常量或变量或任何其他标识符名称。</p>

<p>break</p>

<p>default</p>

<p>func</p>

<p>interface</p>

<p>select</p>

<p>case</p>

<p>defer</p>

<p>go</p>

<p>map</p>

<p>struct</p>

<p>chan</p>

<p>else</p>

<p>goto</p>

<p>package</p>

<p>switch</p>

<p>const</p>

<p>fallthrough</p>

<p>if</p>

<p>range</p>

<p>type</p>

<p>continue</p>

<p>for</p>

<p>import</p>

<p>return</p>

<p>var</p>

<h2 id="go语言的空白行">Go语言的空白行</h2>

<p>只包含空格的行，或者可能带有注释，被称为空行，Go编译器完全忽略它。</p>

<p>空白行是用于描述空格，制表符，换行符和注释的术语。 空格将语句的一部分与另一个语句隔开，并使编译器能够识别语句中的一个元素(例如<code class="highlighter-rouge">int</code>)结束和下一个元素开始的位置。因此，在下面的语句中：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var age int;
</code></pre></div></div>

<p>在<code class="highlighter-rouge">int</code>和<code class="highlighter-rouge">age</code>之间必须至少有一个空格字符(通常是一个空格)，以便编译器能够区分它们。 另一方面，如以下语句中：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fruit = apples + oranges;   // get the total fruit
</code></pre></div></div>

<p>在 <code class="highlighter-rouge">fruit</code> 和<code class="highlighter-rouge">=</code>之间，或在<code class="highlighter-rouge">=</code>和<code class="highlighter-rouge">apples</code>之间可不需要空格字符，但是如果想要增加可读性，那么可以随意添加。</p>

<h2 id="变量">变量</h2>

<p>Go语言的变量声明方式与C和C++语言有明显的不同。对于纯粹的变量声明，Go语言引入了关键字var，而类型信息放在变量名之后，示例如下：</p>

<pre><code class="language-plain">var v1 int
var v2 string
var v3 [10]int // 数组
var v4 []int // 数组切片
var v5 struct {
f int
}
var v6 *int // 指针
var v7 map[string]int // map，key为string类型，value为int类型
var v8 func(a int) int
var (
v1 int
v2 string
)
var v1 int = 10 // 正确的使用方式1
var v2 = 10 // 正确的使用方式2，编译器可以自动推导出v2的类型
v3 := 10 // 正确的使用方式3，编译器可以自动推导出v3的类型

</code></pre>

<p>指定类型已不再是必需的，Go编译器可以从初始化表达式的右值推导出该变量应该声明为哪种类型，这让Go语言看起来有点像动态类型语言，尽管<strong>Go语言实际上是不折不扣的强类型语言（静态类型语言）。</strong></p>

<p>出现在:=左侧的变量不应该是已经被声明过的，否则会导致编译错误，比如下面这个写法：</p>

<pre><code class="language-plain">var i int
i := 2
会导致类似如下的编译错误：
no new variables on left side of :=
</code></pre>

<p><strong>多重赋值功能</strong>，比如下面这个交换i和j变量的语句：</p>

<pre><code class="language-plain">i, j = j, i
</code></pre>

<p>多重返回和匿名变量：</p>

<pre><code class="language-plain">func GetName() (firstName, lastName, nickName string) {
return "May", "Chan", "Chibi Maruko"
}
若只想获得nickName，则函数调用语句可以用如下方式编写：
_, _, nickName := GetName()

</code></pre>

<h2 id="常量">常量</h2>

<p><strong>Go语言的字面常量更接近我们自然语言中的常量概念，它是无类型的。</strong>只要这个常量在相应类型的值域范围内，就可以作为该类型的常量，比如上面的常量-12，它可以赋值给int、uint、int32、int64、float32、float64、complex64、complex128等类型的变量。</p>

<pre><code class="language-plain">-12
3.14159265358979323846 // 浮点类型的常量
3.2+12i // 复数类型的常量
true // 布尔类型的常量
"foo" // 字符串常量
</code></pre>

<p>通过const关键字，你可以给字面常量指定一个友好的名字：</p>

<pre><code class="language-plain">const Pi float64 = 3.14159265358979323846
const zero = 0.0 // 无类型浮点常量
const (
size int64 = 1024
eof = -1 // 无类型整型常量
)
const u, v float32 = 0, 3 // u = 0.0, v = 3.0，常量的多重赋值
const a, b, c = 3, 4, "foo"
// a = 3, b = 4, c = "foo", 无类型整型和字符串常量
</code></pre>

<p><strong>常量定义的右值也可以是一个在编译期运算的常量表达式</strong>，比如</p>

<pre><code class="language-plain">const mask = 1 &lt;&lt; 3
</code></pre>

<p><strong>由于常量的赋值是一个编译期行为，所以右值不能出现任何需要运行期才能得出结果的表达式</strong>，比如试图以如下方式定义常量就会导致编译错误：</p>

<pre><code class="language-plain">const Home = os.GetEnv("HOME")
</code></pre>

<p>原因很简单，os.GetEnv()只有在运行期才能知道返回结果，在编译期并不能确定，所以无法作为常量定义的右值。</p>

<p><strong>Go语言预定义了这些常量：true、false和iota。</strong>iota比较特殊，可以被认为是一个可被编译器修改的常量，在每一个const关键字出现时被重置为0，然后在下一个const出现之前，每出现一次iota，其所代表的数字会自动增1。</p>

<pre><code class="language-plain">const ( // iota被重设为0
c0 = iota // c0 == 0
c1 = iota // c1 == 1
c2 = iota // c2 == 2
)
const (
a = 1 &lt;&lt; iota // a == 1 (iota在每个const开头被重设为0)
b = 1 &lt;&lt; iota // b == 2
c = 1 &lt;&lt; iota // c == 4
)
const (
u = iota * 42 // u == 0
v float64 = iota * 42 // v == 42.0
w = iota * 42 // w == 84
)
const x = iota // x == 0 (因为iota又被重设为0了)
const y = iota // y == 0 (同上)

</code></pre>

<pre><code class="language-plain">const ( // iota被重设为0
c0 = iota // c0 == 0
c1 // c1 == 1
c2 // c2 == 2
)
const (
a = 1 &lt;&lt;iota // a == 1 (iota在每个const开头被重设为0)
b // b == 2
c // c == 4
)

</code></pre>

<p>Go语言并不支持众多其他语言明确支持的enum关键字。伪枚举：</p>

<pre><code class="language-plain">const (
Sunday = iota
Monday
Tuesday
Wednesday
Thursday
Friday
Saturday
numberOfDays // 这个常量没有导出
)
</code></pre>

<h2 id="类型">类型</h2>

<p><strong>Go语言内置以下这些基础类型：</strong></p>

<ul>
  <li><strong>布尔类型：</strong>bool。</li>
  <li><strong>整型：</strong>int8、byte、int16、int、uint、uintptr等。</li>
  <li><strong>浮点类型：</strong>float32、float64。</li>
  <li><strong>复数类型：</strong>complex64、complex128。</li>
  <li><strong>字符串：</strong>string。</li>
  <li><strong>字符类型：</strong>rune。</li>
  <li><strong>错误类型：</strong>error。</li>
</ul>

<p>此外，Go语言也支持以下这些<strong>复合类型：</strong></p>

<ul>
  <li>指针（pointer）</li>
  <li>数组（array）</li>
  <li>切片（slice）</li>
  <li>字典（map）</li>
  <li>通道（chan）</li>
  <li>结构体（struct）</li>
  <li>接口（interface）</li>
</ul>

<p>int和int32在Go语言里被认为是两种不同的类型，编译器也不会帮你自动做类型转换：</p>

<pre><code class="language-plain">var value2 int32
value1 := 64 // value1将会被自动推导为int类型
value2 = value1 // 编译错误
编译错误类似于：
cannot use value1 (type int) as type int32 in assignment。
使用强制类型转换可以解决这个编译错误：
value2 = int32(value1) // 编译通过
</code></pre>

<p>两个不同类型的整型数不能直接比较，比如int8类型的数和int类型的数不能直接比较，但各种类型的整型变量都可以直接与字面常量（literal）进行比较，比如：</p>

<pre><code class="language-plain">var i int32
var j int64
i, j = 1, 2
if i == j { // 编译错误
fmt.Println("i and j are equal.")
}
if i == 1 || j == 2 { // 编译通过
fmt.Println("i and j are equal.")
}
</code></pre>

<p>在Go语言中，字符串也是一种基本类型。相比之下， C/C++语言中并不存在原生的字符串类型，通常使用字符数组来表示，并以字符指针来传递。</p>

<pre><code class="language-plain">var str string // 声明一个字符串变量
str = "Hello world" // 字符串赋值
ch := str[0] // 取字符串的第一个字符
fmt.Printf("The length of \"%s\" is %d \n", str, len(str))
fmt.Printf("The first character of \"%s\" is %c.\n", str, ch)
输出结果为：
The length of "Hello world" is 11
The first character of "Hello world" is H.
str := "Hello world" // 字符串也支持声明时进行初始化的做法
str[0] = 'X' // 编译错误
</code></pre>


  </section>
</article>

<section class="read-more">
   
   
   <div class="read-more-item">
       <span class="read-more-item-dim">最近的文章</span>
       <h2 class="post-list__post-title post-title"><a href="/2018/03/Go%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%89-%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B/" title="link to Go语言学习笔记（三） 集合类型">Go语言学习笔记（三） 集合类型</a></h2>
       <p class="excerpt">数组数组中包含的每个数据被称为数组元素（element），一个数组包含的元素个数被称为数组的长度。[32]byte // 长度为32的数组，每个元素为一个字节[2*N] struct { x, y int32 } // 复杂类型数组[1000]*float64 // 指针数组[3][5]int // 二维数组[2][2][2]float64 // 等同于[2]([2]([2]float64))元素访问	for i := 0; i &lt; len(array); i++ {		fmt.Pr...&hellip;</p>
       <div class="post-list__meta"><time datetime="2018-03-25 00:00:00 +0800" class="post-list__meta--date date">2018-03-25</time> &#8226; <span class="post-list__meta--tags tags"></span><a class="btn-border-small" href=/2018/03/Go%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%89-%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B/>继续阅读</a></div>
   </div>
   
   
   
   
   <div class="read-more-item">
       <span class="read-more-item-dim">更早的文章</span>
       <h2 class="post-list__post-title post-title"><a href="/2018/03/Go%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%80-%E7%AE%80%E4%BB%8B-%E5%AE%89%E8%A3%85/" title="link to Go语言学习笔记（一） 简介、安装">Go语言学习笔记（一） 简介、安装</a></h2>
       <p class="excerpt">为什么选择Go编程语言已经非常多，偏性能敏感的编译型语言有 C、C++、Java、C#、Delphi和Objective-C等，偏快速业务开发的动态解析型语言有PHP、Python、Perl、Ruby、JavaScript和Lua等，面向特定领域的语言有Erlang、R和MATLAB等，那么我们为什么需要 Go这样一门新语言呢？Go语言官方自称，之所以开发Go 语言，是因为“近10年来开发程序之难让我们有点沮丧”。这一定位暗示了Go语言希望取代C和Java的地位，成为最流行的通用开发语言。...&hellip;</p>
       <div class="post-list__meta"><time datetime="2018-03-15 00:00:00 +0800" class="post-list__meta--date date">2018-03-15</time> &#8226; <span class="post-list__meta--tags tags"></span><a class="btn-border-small" href=/2018/03/Go%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%80-%E7%AE%80%E4%BB%8B-%E5%AE%89%E8%A3%85/>继续阅读</a></div>
   </div>
   
</section>

<section class="post-comments">
  
    <div id="disqus_thread"></div>
    <script>
    
    var disqus_config = function () {
        this.page.url = "http://localhost:4000/2018/03/Go%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%BA%8C-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-%E5%8F%98%E9%87%8F-%E5%B8%B8%E9%87%8F-%E7%B1%BB%E5%9E%8B-(1)/";
        this.page.identifier = "/2018/03/Go%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%BA%8C-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-%E5%8F%98%E9%87%8F-%E5%B8%B8%E9%87%8F-%E7%B1%BB%E5%9E%8B-(1)/";
    };

    var disqus_shortname = 'vno-jekyll';
    
    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>要查看<a href="http://disqus.com/?ref_noscript"> Disqus </a>评论，请启用 JavaScript</noscript>
    
  
  
  
  
</section>


            <section class="footer">
<!--
    <footer>
    	<span class="footer__copyright">本站点采用<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享 署名-非商业性使用-相同方式共享 4.0 国际 许可协议</a></span>
        <span class="footer__copyright">由 <a href="https://jekyllrb.com">Jekyll</a> 于 2018-11-05 生成，感谢 <a href="https://www.digitalocean.com/?refcode=30ed2d146762">Digital Ocean</a> 为本站提供稳定的 VPS 服务</span>
        <span class="footer__copyright">本站由 <a href="http://onev.cat">@onevcat</a> 创建，采用 <a href="https://github.com/onevcat/vno-jekyll">Vno - Jekyll</a> 作为主题，您可以在 GitHub 找到<a href="https://github.com/onevcat/OneV-s-Den">本站源码</a> - &copy; 2018</span>
    </footer>
-->
</section>

        </div>
    </div>
    
    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.3.min.js"></script>

<script type="text/javascript" src="/js/main.js"></script>



    
  </body>

</html>
